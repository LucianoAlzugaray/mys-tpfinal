[{"id":"175baf65.5e7841","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"cb50b92f.71dae8","type":"ui_template","z":"175baf65.5e7841","group":"c1a44c85.a6517","name":"","order":0,"width":"30","height":"2","format":"<div style=\"text-align:center; padding-bottom:2em:\">\n    <h1>\n        Panel de Simulacion\n    </h1>\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":920,"y":100,"wires":[[]]},{"id":"b0f33cdf.50d9c","type":"ui_dropdown","z":"175baf65.5e7841","name":"","label":"Volver al restaurante","tooltip":"","place":"Elegir","group":"30d568d0.0a7478","order":18,"width":"8","height":"1","passthru":true,"multiple":false,"options":[{"label":"Camioneta mas cercana","value":1,"type":"num"},{"label":"Camioneta mas próxima a liberarse","value":2,"type":"num"}],"payload":"","topic":"change-volver-al-restaurante","x":960,"y":280,"wires":[["640882b4.7817cc"]]},{"id":"a09cafb6.dd92c","type":"ui_text_input","z":"175baf65.5e7841","name":"","label":"Pedidos por hora","tooltip":"","group":"30d568d0.0a7478","order":16,"width":"8","height":"1","passthru":true,"mode":"number","delay":300,"topic":"change-pedidos-x-hora","x":950,"y":320,"wires":[["640882b4.7817cc"]]},{"id":"1de5221b.f78dae","type":"ui_text_input","z":"175baf65.5e7841","name":"","label":"Hornos por camioneta","tooltip":"","group":"30d568d0.0a7478","order":2,"width":"8","height":"1","passthru":true,"mode":"number","delay":300,"topic":"change-hornos-x-camioneta","x":960,"y":360,"wires":[["640882b4.7817cc"]]},{"id":"a3d79c3d.b8c6b","type":"ui_text_input","z":"175baf65.5e7841","name":"","label":"Pizzas por horno","tooltip":"","group":"30d568d0.0a7478","order":10,"width":"8","height":"1","passthru":true,"mode":"number","delay":300,"topic":"change-pizzas-x-horno","x":950,"y":400,"wires":[["640882b4.7817cc"]]},{"id":"2c82e126.337d7e","type":"ui_text_input","z":"175baf65.5e7841","name":"Cantidad de camionetas","label":"Cantidad de camionetas","tooltip":"","group":"30d568d0.0a7478","order":3,"width":"8","height":"1","passthru":true,"mode":"number","delay":300,"topic":"change-cantidad-camionetas","x":970,"y":440,"wires":[["640882b4.7817cc"]]},{"id":"7d6907e4.fb11a8","type":"ui_switch","z":"175baf65.5e7841","name":"anana","label":"Ananá","tooltip":"","group":"30d568d0.0a7478","order":8,"width":"8","height":"1","passthru":true,"decouple":"false","topic":"change-anana","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":910,"y":520,"wires":[["640882b4.7817cc"]]},{"id":"f971d951.3abd18","type":"ui_switch","z":"175baf65.5e7841","name":"","label":"Calabresa","tooltip":"","group":"30d568d0.0a7478","order":12,"width":"8","height":"1","passthru":true,"decouple":"false","topic":"change-calabresa","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":930,"y":720,"wires":[["640882b4.7817cc"]]},{"id":"aadcec5d.de04c","type":"ui_switch","z":"175baf65.5e7841","name":"","label":"Napolitana","tooltip":"","group":"30d568d0.0a7478","order":11,"width":"8","height":"1","passthru":true,"decouple":"false","topic":"change-napolitana","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":930,"y":560,"wires":[["640882b4.7817cc"]]},{"id":"2ea51afa.e166f6","type":"ui_switch","z":"175baf65.5e7841","name":"","label":"Fugazzeta","tooltip":"","group":"30d568d0.0a7478","order":4,"width":"8","height":"1","passthru":true,"decouple":"false","topic":"change-fugazzeta","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":930,"y":600,"wires":[["640882b4.7817cc"]]},{"id":"16f08525.fb72db","type":"ui_switch","z":"175baf65.5e7841","name":"","label":"Mozzarella","tooltip":"","group":"30d568d0.0a7478","order":17,"width":"8","height":"1","passthru":true,"decouple":"false","topic":"change-mozzarella","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":930,"y":640,"wires":[["640882b4.7817cc"]]},{"id":"427b98f5.19ba68","type":"ui_template","z":"175baf65.5e7841","group":"30d568d0.0a7478","name":"","order":14,"width":0,"height":0,"format":"<div ng-bind-html=\"msg.payload\" style=\"margin-top:0.25em;\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":920,"y":680,"wires":[[]]},{"id":"c8684f39.fe892","type":"ui_table","z":"175baf65.5e7841","group":"d0105042.f2092","name":"","order":0,"width":"32","height":"5","columns":[{"field":"corrida","title":"Corrida:","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"esperaClientes","title":"Espera promedio del cliente (min):","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"clientesHora","title":"Clientes atendidos por hora:","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"pizzasDia","title":"Pizzas entregadas por dia:","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"desperdicios","title":"Tasa de producción sobre pedidos:","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"distanciasRecorridas","title":"Distancia recorrida (Km):","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"recargaCamionetas","title":"Tiempo entre recargas (min):","width":"","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}}],"outputs":0,"cts":false,"x":1750,"y":480,"wires":[]},{"id":"1749c53b.9d65cb","type":"ui_chart","z":"175baf65.5e7841","name":"","group":"c7079c4f.bea18","order":1,"width":0,"height":0,"label":"Espera del cliente","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1590,"y":540,"wires":[[]]},{"id":"354717d5.989d68","type":"function","z":"175baf65.5e7841","name":"","func":"/*\nvar arrayLength = msg.payload.length;\nfor (var i = 0; i <= arrayLength; i++) {\n    var m = {};\n    m.labels = [msg.payload[i].Machine];\n    m.data = [[(msg.payload[i].TotalTime/60).toFixed(2)]];\n    m.series = [\"Total Time in 8 hours by Machine\"];\n    return {payload:[m],topic:msg.topic};\n}\n\n\nlet m = {};\n\nm.labels = [\n    \"Ananá\",\n    \"Calabresa\",\n    \"Fugazzeta\",\n    \"Mozzarella\",\n    \"Napolitana\"\n];\nm.data = [[\n    10,\n    10,\n    10,\n    30,\n    50\n]];\n\nm.series = [\"Tipos de pizza \"];\nmsg.payload = m;\nreturn msg;\n\nconst opcion = Math.round(Math.random()*100);\nif (opcion < 5){\n    msg.topic = \"Anana\";\n    msg.payload = 10;\n    return msg;\n} else if (opcion < 20) {\n    msg.topic = \"Calabresa\";\n    msg.payload = 20;\n    return msg;\n} else if (opcion < 55) {\n    msg.topic = \"Mozzarella\";\n    msg.payload = 30;\n    return msg;\n} else if (opcion < 75) {\n    msg.topic = \"Fugazzeta\";\n    msg.payload = 20;\n    return msg;\n} else {\n    msg.topic = \"Napolitana\";\n    msg.payload = 20;\n    return msg;\n}\n*/\n\nlet tiposDePizza = JSON.parse(msg.payload)\n\n\nmsg.payload = tiposDePizza\n\nreturn msg\n","outputs":1,"noerr":0,"x":1430,"y":740,"wires":[["ba2658f1.325278"]]},{"id":"e3783d83.0a848","type":"ui_chart","z":"175baf65.5e7841","name":"","group":"f08041cf.3e8cb","order":0,"width":0,"height":0,"label":"Ventas por tipo de pizza","chartType":"pie","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1810,"y":740,"wires":[[]]},{"id":"8f76d6b3.03b8a8","type":"ui_template","z":"175baf65.5e7841","group":"5bce8e4a.8f18","name":"Footer","order":13,"width":0,"height":0,"format":"<div style=\"paddin-bottom:0.25em;\">\n    <p>Allende Lucila</p>\n    <p>Alzugaray Luciano</p>\n    <p>Ducid Matias</p>\n    <p>Krmpotic Lucas</p>\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":690,"y":860,"wires":[[]]},{"id":"c6482b54.c7a458","type":"mqtt out","z":"175baf65.5e7841","name":"iniciar_simulacion","topic":"control","qos":"","retain":"","broker":"239445f0.9eb1aa","x":1430,"y":340,"wires":[]},{"id":"85cd6f9a.61a03","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"espera-de-cliente","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1300,"y":540,"wires":[["1749c53b.9d65cb"]]},{"id":"b08483e6.53491","type":"ui_date_picker","z":"175baf65.5e7841","name":"","label":"Inicio","group":"30d568d0.0a7478","order":1,"width":"8","height":"1","passthru":true,"topic":"change-inicio","x":910,"y":200,"wires":[["640882b4.7817cc"]]},{"id":"9bbe0b5e.543d48","type":"debug","z":"175baf65.5e7841","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":1390,"y":380,"wires":[]},{"id":"a658871b.1ddba8","type":"ui_button","z":"175baf65.5e7841","name":"","group":"30d568d0.0a7478","order":15,"width":0,"height":0,"passthru":false,"label":"INICIAR SIMULACION","tooltip":"","color":"","bgcolor":"","icon":"","payload":"iniciar","payloadType":"str","topic":"action","x":960,"y":480,"wires":[["640882b4.7817cc","5a1b102a.2a9b4"]]},{"id":"640882b4.7817cc","type":"function","z":"175baf65.5e7841","name":"","func":"let payload = context.get(\"inputs-data\")\nif (!payload){\n    payload = {\n        inicio: null,\n        fin: null,\n        volverAlRestaurante: null,\n        pedidosPorHora: null,\n        hornosPorCamioneta: null,\n        pizzasPorHorno: null,\n        cantidadCamionetas: null,\n        anana: null,\n        napolitana: null,\n        fugazzeta: null,\n        mozzarella: null,\n        calabresa: null,\n        cantidadExperimentos: null,\n        nombreExperimento: null,\n        rangoAtencion: null,\n    }\n}\n\n    \nif (msg.topic === 'action'){\n    msg.payload = payload;\n    return msg;\n} else if (msg.topic === 'change-inicio') {\n    payload.inicio = msg.payload;\n} else if (msg.topic === 'change-fin') {\n    payload.fin = msg.payload;\n} else if (msg.topic === 'change-volver-al-restaurante') {\n    payload.volverAlRestaurante = msg.payload;\n} else if (msg.topic === 'change-pedidos-x-hora') {\n    payload.pedidosPorHora = msg.payload;\n} else if (msg.topic === 'change-hornos-x-camioneta') {\n    payload.hornosPorCamioneta = msg.payload;\n} else if (msg.topic === 'change-pizzas-x-horno') {\n    payload.pizzasPorHorno = msg.payload;\n} else if (msg.topic === 'change-cantidad-camionetas') {\n    payload.cantidadCamionetas = msg.payload;\n} else if (msg.topic === 'change-anana') {\n    payload.anana = msg.payload;\n} else if (msg.topic === 'change-napolitana') {\n    payload.napolitana = msg.payload;\n} else if (msg.topic === 'change-fugazzeta') {\n    payload.fugazzeta = msg.payload;\n} else if (msg.topic === 'change-mozzarella') {\n    payload.mozzarella = msg.payload;\n} else if (msg.topic === 'change-calabresa') {\n    payload.calabresa = msg.payload;\n} else if (msg.topic === 'experimentos') {\n    payload.cantidadExperimentos = msg.payload;\n} else if (msg.topic === 'nombre-experimento') {\n    payload.nombreExperimento = msg.payload;\n} else if (msg.topic === 'rango-de-atencion') {\n    payload.rangoAtencion = msg.payload;\n} \n\ncontext.set(\"inputs-data\", payload)\n    ","outputs":1,"noerr":0,"x":1230,"y":360,"wires":[["9bbe0b5e.543d48","c6482b54.c7a458"]]},{"id":"ba2658f1.325278","type":"split","z":"175baf65.5e7841","name":"","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"topic","x":1600,"y":740,"wires":[["e3783d83.0a848","7e3f42af.23455c"]]},{"id":"9349cc9b.3ba9f","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"pizzas-pedidas-por-tipo","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1200,"y":740,"wires":[["354717d5.989d68","47910f56.885e7"]]},{"id":"7e3f42af.23455c","type":"debug","z":"175baf65.5e7841","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1770,"y":700,"wires":[]},{"id":"47910f56.885e7","type":"debug","z":"175baf65.5e7841","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1430,"y":680,"wires":[]},{"id":"2f140a2e.45a216","type":"ui_text_input","z":"175baf65.5e7841","name":"","label":"Corridas","tooltip":"","group":"30d568d0.0a7478","order":7,"width":"8","height":"1","passthru":true,"mode":"number","delay":300,"topic":"experimentos","x":920,"y":160,"wires":[["640882b4.7817cc"]]},{"id":"4bbd0d9.7907ff4","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"resumen","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1240,"y":440,"wires":[["fabe3e9a.d7a72"]]},{"id":"b36c8731.d32398","type":"debug","z":"175baf65.5e7841","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1590,"y":420,"wires":[]},{"id":"fabe3e9a.d7a72","type":"function","z":"175baf65.5e7841","name":"","func":"msg.payload = JSON.parse(msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":1430,"y":440,"wires":[["b36c8731.d32398","8d02e772.197a88"]]},{"id":"db84bf24.d0bff","type":"ui_text_input","z":"175baf65.5e7841","name":"","label":"Nombre Experimento","tooltip":"","group":"30d568d0.0a7478","order":9,"width":"8","height":"1","passthru":true,"mode":"text","delay":300,"topic":"nombre-experimento","x":960,"y":60,"wires":[["640882b4.7817cc"]]},{"id":"955dd369.39272","type":"ui_text_input","z":"175baf65.5e7841","name":"","label":"Rango de atencion","tooltip":"","group":"30d568d0.0a7478","order":6,"width":"8","height":"1","passthru":true,"mode":"number","delay":300,"topic":"rango-de-atencion","x":950,"y":760,"wires":[["640882b4.7817cc"]]},{"id":"5a1b102a.2a9b4","type":"function","z":"175baf65.5e7841","name":"clean","func":"msg.payload = []\nmsg.topic = \"#\"\nreturn msg;","outputs":1,"noerr":0,"x":1330,"y":480,"wires":[["1749c53b.9d65cb","e3783d83.0a848","c8684f39.fe892","5af6dae5.0aa244"]]},{"id":"8cc6e287.73c6","type":"ui_date_picker","z":"175baf65.5e7841","name":"","label":"Fin","group":"30d568d0.0a7478","order":5,"width":"8","height":"1","passthru":true,"topic":"change-fin","x":910,"y":240,"wires":[["640882b4.7817cc"]]},{"id":"cffa2032.7f798","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"experimento","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":750,"y":60,"wires":[["db84bf24.d0bff"]]},{"id":"5331e8d.1ac8018","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":740,"y":240,"wires":[["8cc6e287.73c6"]]},{"id":"9b108aa4.189268","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"20","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":320,"wires":[["a09cafb6.dd92c"]]},{"id":"de8a6081.74ecd","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"1","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":360,"wires":[["1de5221b.f78dae"]]},{"id":"55b29820.faef58","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"40","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":400,"wires":[["a3d79c3d.b8c6b"]]},{"id":"2bc9cf42.b71b","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"4","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":440,"wires":[["2c82e126.337d7e"]]},{"id":"374e2693.334f5a","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":740,"y":200,"wires":[["b08483e6.53491"]]},{"id":"58d47889.4e69a8","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"10","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":160,"wires":[["2f140a2e.45a216"]]},{"id":"d6b54772.87a818","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"2000","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":760,"wires":[["955dd369.39272"]]},{"id":"a8f79e4d.84d5c","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":520,"wires":[["7d6907e4.fb11a8"]]},{"id":"788d0f4.8ce4af","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":560,"wires":[["aadcec5d.de04c"]]},{"id":"79135f.0b9b9ca","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":600,"wires":[["2ea51afa.e166f6"]]},{"id":"f8d9cbfe.573d88","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":640,"wires":[["16f08525.fb72db"]]},{"id":"1dadefca.fce81","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":720,"wires":[["f971d951.3abd18"]]},{"id":"d5033d14.60f04","type":"inject","z":"175baf65.5e7841","name":"","topic":"","payload":"1","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":730,"y":280,"wires":[["b0f33cdf.50d9c"]]},{"id":"628add1e.bac064","type":"ui_gauge","z":"175baf65.5e7841","name":"","group":"96ecab29.01c748","order":0,"width":0,"height":0,"gtype":"gage","title":"Tasa de producción sobre pedidos","label":"%","format":"{{msg.payload}}","min":0,"max":"10","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1900,"y":40,"wires":[]},{"id":"770e0981.985698","type":"ui_text","z":"175baf65.5e7841","group":"8fbb8370.e8ce9","order":0,"width":0,"height":0,"name":"","label":"Pedidos rechazados:","format":"{{msg.payload}}","layout":"row-spread","x":1860,"y":160,"wires":[]},{"id":"40ee98ab.939f38","type":"ui_text","z":"175baf65.5e7841","group":"8fbb8370.e8ce9","order":0,"width":0,"height":0,"name":"","label":"Distancia Recorrida (km):","format":"{{msg.payload}}","layout":"row-spread","x":1870,"y":200,"wires":[]},{"id":"f2a35f8a.95072","type":"ui_text","z":"175baf65.5e7841","group":"8fbb8370.e8ce9","order":0,"width":0,"height":0,"name":"","label":"Tiempo entre recargas (min):","format":"{{msg.payload}}","layout":"row-spread","x":1880,"y":80,"wires":[]},{"id":"c4c668ed.532738","type":"ui_text","z":"175baf65.5e7841","group":"8fbb8370.e8ce9","order":0,"width":0,"height":0,"name":"","label":"Pedidos sin tipo en camioneta:","format":"{{msg.payload}}","layout":"row-spread","x":1890,"y":240,"wires":[]},{"id":"c7529be2.a81c68","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"porcentaje-de-desperdicios","qos":"0","datatype":"auto","broker":"239445f0.9eb1aa","x":1150,"y":20,"wires":[["5c5ef1e.3fdac1"]]},{"id":"f5ce9dec.bf0f9","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"pedidos-rechazados","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1370,"y":160,"wires":[["770e0981.985698"]]},{"id":"a96d0b38.38bb88","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"pedidos-entregados","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1370,"y":120,"wires":[["c9bcaa1.6448358"]]},{"id":"c9bcaa1.6448358","type":"ui_text","z":"175baf65.5e7841","group":"8fbb8370.e8ce9","order":0,"width":0,"height":0,"name":"","label":"Pedidos entregados:","format":"{{msg.payload}}","layout":"row-spread","x":1860,"y":120,"wires":[]},{"id":"62cc178f.123da8","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"distancias-recorridas","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1370,"y":200,"wires":[["40ee98ab.939f38"]]},{"id":"c0f9595d.9c6d28","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"tiempo-entre-recargas","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1380,"y":80,"wires":[["4954aab4.454ad4"]]},{"id":"28dfbd16.ac6612","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"pedido-sin-tipo-de-camioneta","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1400,"y":240,"wires":[["c4c668ed.532738"]]},{"id":"f955a222.ed0f4","type":"ui_text","z":"175baf65.5e7841","group":"30d568d0.0a7478","order":13,"width":"8","height":"1","name":"","label":"Dia actual","format":"{{msg.payload}}","layout":"row-spread","x":1820,"y":280,"wires":[]},{"id":"d191a000.661df","type":"mqtt in","z":"175baf65.5e7841","name":"","topic":"dia-actual","qos":"2","datatype":"auto","broker":"239445f0.9eb1aa","x":1340,"y":280,"wires":[["f955a222.ed0f4"]]},{"id":"5af6dae5.0aa244","type":"function","z":"175baf65.5e7841","name":"","func":"msg.payload = 0\nreturn msg;","outputs":1,"noerr":0,"x":1620,"y":360,"wires":[["628add1e.bac064","c9bcaa1.6448358","770e0981.985698","40ee98ab.939f38","f2a35f8a.95072","c4c668ed.532738","f955a222.ed0f4"]]},{"id":"4954aab4.454ad4","type":"function","z":"175baf65.5e7841","name":"fijar-decimales","func":"msg.payload = Number(msg.payload).toFixed(2)\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":80,"wires":[["f2a35f8a.95072"]]},{"id":"c3f06339.c3025","type":"function","z":"175baf65.5e7841","name":"cambiar-a-porcentaje","func":"msg.payload = `${msg.payload.toString()}%`\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":20,"wires":[["628add1e.bac064"]]},{"id":"5c5ef1e.3fdac1","type":"function","z":"175baf65.5e7841","name":"fijar-decimales","func":"msg.payload = Number(msg.payload).toFixed(2)\nreturn msg;","outputs":1,"noerr":0,"x":1380,"y":20,"wires":[["c3f06339.c3025"]]},{"id":"8d02e772.197a88","type":"function","z":"175baf65.5e7841","name":"fijar-decimales","func":"msg.payload = msg.payload.map(element =>{\n    let desperdicios = Number(element.desperdicios).toFixed(2)\n    element.desperdicios = `${desperdicios}%`\n    return element\n})\nreturn msg;","outputs":1,"noerr":0,"x":1600,"y":460,"wires":[["c8684f39.fe892"]]},{"id":"c1a44c85.a6517","type":"ui_group","z":"","name":"TP Final 2020 - UNPSJB","tab":"48ed0e62.2706b","order":1,"disp":true,"width":"32","collapse":false},{"id":"30d568d0.0a7478","type":"ui_group","z":"","name":"Configuracion","tab":"48ed0e62.2706b","order":2,"disp":true,"width":"32","collapse":true},{"id":"d0105042.f2092","type":"ui_group","z":"","name":"Resumen","tab":"48ed0e62.2706b","order":7,"disp":true,"width":"32","collapse":true},{"id":"c7079c4f.bea18","type":"ui_group","z":"","name":"Espera del Cliente","tab":"48ed0e62.2706b","order":4,"disp":true,"width":"8","collapse":false},{"id":"f08041cf.3e8cb","type":"ui_group","z":"","name":"Tipos de pizza","tab":"48ed0e62.2706b","order":5,"disp":true,"width":"8","collapse":false},{"id":"5bce8e4a.8f18","type":"ui_group","z":"","name":"Footer","tab":"48ed0e62.2706b","order":8,"disp":true,"width":"32","collapse":false},{"id":"239445f0.9eb1aa","type":"mqtt-broker","z":"","name":"broker_mosquito","broker":"172.16.240.10","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"96ecab29.01c748","type":"ui_group","z":"","name":"Desperdicio","tab":"48ed0e62.2706b","order":3,"disp":true,"width":"8","collapse":false},{"id":"8fbb8370.e8ce9","type":"ui_group","z":"","name":"Indicadores de interés","tab":"48ed0e62.2706b","order":6,"disp":true,"width":"8","collapse":false},{"id":"48ed0e62.2706b","type":"ui_tab","z":"","name":"Modelos y Simulación","icon":"dashboard","order":1,"disabled":false,"hidden":false}]